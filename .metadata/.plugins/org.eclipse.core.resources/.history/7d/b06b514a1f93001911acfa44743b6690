package com.jiage.spinlock;

import java.util.concurrent.TimeUnit;

public class MainTest {
	public static void main(String[] args) {
		SpinLock sl = new SpinLock();

		new Thread(() -> {
//			sl.lock();
			try {
				TimeUnit.SECONDS.sleep(2);
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
			System.out.println("t1 run");
//			sl.unLock();
		}).start();
		new Thread(() -> {
//			sl.lock();
			for (int i = 0; i < 10000; i++) {
				i = i * 2 + 3;
			}
			System.out.println("t2 run");
//			sl.unLock();
		}).start();
		new Thread(() -> {
//			sl.lock();
			for (int i = 0; i < 10000; i++) {
				i = i * 2 + 3;
			}
			System.out.println("t3 run");
//			sl.unLock();
		}).start();
		new Thread(() -> {
//			sl.lock();
			for (int i = 0; i < 10000; i++) {
				i = i * 2 + 3;
			}
			System.out.println("t4 run");
//			sl.unLock();
		}).start();

	}
}
