package com.jiage.spinlock;

public class MainTest {
	public static void main(String[] args) {
		SpinLock sl = new SpinLock();

		new Thread(() -> {
//			sl.lock();
			for (int i = 0; i < 10000; i++) {
				i = i * 2 + 3;
			}
			System.out.println("t1 run");
//			sl.unLock();
		}).start();
		new Thread(() -> {
//			sl.lock();
			System.out.println("t2 run");
//			sl.unLock();
		}).start();
		new Thread(() -> {
//			sl.lock();
			System.out.println("t3 run");
			sl.unLock();
		}).start();
		new Thread(() -> {
//			sl.lock();
			System.out.println("t4 run");
//			sl.unLock();
		}).start();

	}
}
