package com.jiage.spinlock;

import java.util.concurrent.atomic.AtomicReference;

/**
 * 普通自旋锁
 * 
 * 缺点：不可再重入
 *
 */
public class SpinLock {
	private static AtomicReference<Thread> atomicReference = new AtomicReference<Thread>();

	public void lock() {
		while (!atomicReference.compareAndSet(null, Thread.currentThread())) {

		}
	}

	public void unLock() {
		atomicReference.compareAndSet(Thread.currentThread(), null);
	}
}
